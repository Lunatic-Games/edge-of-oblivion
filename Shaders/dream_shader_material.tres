[gd_resource type="ShaderMaterial" load_steps=4 format=3 uid="uid://d2p8yth5vp4kr"]

[sub_resource type="Shader" id="1"]
code = "
shader_type canvas_item;

uniform sampler2D noise;

void fragment() {
	float angle = TIME;
	vec2 dist = vec2(0.5) - UV;
	float s = sin(angle);
	float c = cos(angle);
	mat2 m = mat2(vec2(c, -s), vec2(s, c));
	dist *= m;
	vec4 coord = texture(noise, dist);
	coord.x -= 0.5;
	coord.y -= 0.5 ;
	vec4 lens_color = texture(TEXTURE, UV + coord.xy);
    COLOR = lens_color;
}"

[sub_resource type="FastNoiseLite" id="2"]

[sub_resource type="NoiseTexture2D" id="3"]
seamless = true
noise = SubResource("2")

[resource]
shader = SubResource("1")
shader_parameter/noise = SubResource("3")
